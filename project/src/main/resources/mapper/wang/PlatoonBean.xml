<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ticket.film.dao.PlatoonDao">
    <resultMap id="platoonBaseResult" type="com.ticket.film.entity.PlatoonBean">
        <id property="id" column="id"/>
        <result property="film_id" column="film_id"/>
        <result property="show_start_time" column="show_start_time"/>
        <result property="hall_id" column="hall_id"/>
        <result property="film_price" column="film_price"/>
        <association property="film" column="film_id" select="com.ticket.film.dao.IFilmDao.filmDetail"/>
    </resultMap>

    <select id="selectAllPlatoonByFilm_id" resultMap="platoonBaseResult">
          SELECT * FROM platoon p JOIN hall h ON p.hall_id = h.id WHERE film_id = #{film_id}
    </select>

</mapper>